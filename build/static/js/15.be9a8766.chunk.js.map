{"version":3,"sources":["Pages/Signup.module.scss","Pages/Signup.jsx"],"names":["module","exports","Signup","onUsernameChanged","signUpFailed","useContext","globalContext","dispatch","history","useHistory","useState","username","email","password","inputs","setInputs","changeHandle","type","e","prev","target","value","className","classes","loginContainer","logo","src","alt","onSubmit","preventDefault","trim","length","auth","createUserWithEmailAndPassword","then","userCredential","currentUser","updateProfile","displayName","user","push","catch","error","console","log","message","inputContainer","htmlFor","onChange","placeholder","id","to"],"mappings":"8GACAA,EAAOC,QAAU,CAAC,eAAiB,+BAA+B,eAAiB,+BAA+B,KAAO,uB,oICwG1GC,UAjGf,YAAmD,IAAlCC,EAAiC,EAAjCA,kBAAkBC,EAAe,EAAfA,aAE/B,EAAoBC,qBAAWC,KAAvBC,EAAR,oBAGIC,EAAUC,cAChB,EAA4BC,mBAAS,CACnCC,SAAU,GACVC,MAAO,GACPC,SAAU,KAHZ,mBAAOC,EAAP,KAAeC,EAAf,KAMMC,EAAe,SAACC,GACpB,OAAO,SAAUC,GACfH,GAAU,SAACI,GACT,OAAO,2BACFA,GADL,kBAEGF,EAAOC,EAAEE,OAAOC,aA+BzB,OACE,qBAAKC,UAAWC,IAAQC,eAAxB,SACE,gCACE,qBAAKF,UAAWC,IAAQE,KAAxB,SACE,qBAAKC,IAAI,8DAA8DC,IAAI,WAE7E,wEACA,uBAAMC,SAhCU,SAACV,GACrBA,EAAEW,iBAECf,EAAOH,SAASmB,OAAOC,OAAS,EACjCC,IAAKC,+BAA+BnB,EAAOF,MAAOE,EAAOD,UACxDqB,MAAK,SAACC,GACLH,IAAKI,YAAYC,cAAc,CAC3BC,YAAaxB,EAAOH,WACnBuB,MAAK,WACN3B,EAAS,CAACU,KAAK,WAAWsB,KAAMP,IAAKI,cACrCjC,EAAkBW,EAAOH,UACzBH,EAAQgC,KAAK,iBACZC,OAAM,SAACC,GACRC,QAAQC,IAAI,+BAIjBH,OAAM,SAACC,GACNtC,EAAasC,MAGftC,EAAa,CAACyC,QAAQ,qDAWpB,UACE,sBAAKvB,UAAWC,IAAQuB,eAAxB,UACE,uBAAOC,QAAQ,OAAf,8BACA,uBACE1B,MAAOP,EAAOH,SACdqC,SAAUhC,EAAa,YACvBiC,YAAY,WACZC,GAAG,OACHjC,KAAK,YAGT,sBAAKK,UAAWC,IAAQuB,eAAxB,UACE,uBAAOC,QAAQ,QAAf,+BACA,uBACE1B,MAAOP,EAAOF,MACdoC,SAAUhC,EAAa,SACvBiC,YAAY,mBACZC,GAAG,QACHjC,KAAK,aAGT,sBAAKK,UAAWC,IAAQuB,eAAxB,UACE,uBAAOC,QAAQ,WAAf,gCACA,uBACE1B,MAAOP,EAAOD,SACdmC,SAAUhC,EAAa,YACvBiC,YAAY,qBACZC,GAAG,WACHjC,KAAK,gBAGT,wDAC0B,IACxB,cAAC,IAAD,CAAMkC,GAAG,SAAT,kDAEF,wBAAQlC,KAAK,SAAb","file":"static/js/15.be9a8766.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"Signup_loginContainer__l_PQB\",\"inputContainer\":\"Signup_inputContainer__1KuG_\",\"logo\":\"Signup_logo__2Atlk\"};","\nimport classes from './Signup.module.scss';\n\nimport { Link ,useHistory} from 'react-router-dom';\nimport { auth } from '../firebase';\nimport { useState,useContext } from 'react';\nimport globalContext from '../globalState';\n\nfunction Signup({onUsernameChanged,signUpFailed}) {\n\n    const [,dispatch] = useContext(globalContext);\n\n\n    let history = useHistory();\n  const [inputs, setInputs] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n\n  const changeHandle = (type) => {\n    return function (e) {\n      setInputs((prev) => {\n        return {\n          ...prev,\n          [type]: e.target.value,\n        };\n      });\n    };\n  };\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    if(inputs.username.trim().length > 5){\n      auth.createUserWithEmailAndPassword(inputs.email, inputs.password)\n      .then((userCredential) => {\n        auth.currentUser.updateProfile({\n            displayName: inputs.username,\n          }).then(() => {\n            dispatch({type:'SET_USER',user: auth.currentUser})\n            onUsernameChanged(inputs.username)\n            history.push('/myaccount')\n          }).catch((error) => {\n            console.log('username change error')\n          });  \n          \n      })\n      .catch((error) => {\n        signUpFailed(error)\n      });\n    }else{\n      signUpFailed({message:\"Username should be at least 6 charachters long!\"})\n    }\n  };\n\n  return (\n    <div className={classes.loginContainer}>\n      <div>\n        <div className={classes.logo}>\n          <img src=\"https://media0.giphy.com/media/RMTQiRYAuvvJb1k6al/giphy.gif\" alt=\"logo\" />\n        </div>\n        <h2>Join the greatest audiophile community</h2>\n        <form onSubmit={submitHandler}>\n          <div className={classes.inputContainer}>\n            <label htmlFor=\"name\">Enter your name:</label>\n            <input\n              value={inputs.username}\n              onChange={changeHandle('username')}\n              placeholder=\"John Doe\"\n              id=\"name\"\n              type=\"name\"\n            />\n          </div>\n          <div className={classes.inputContainer}>\n            <label htmlFor=\"email\">Enter your email:</label>\n            <input\n              value={inputs.email}\n              onChange={changeHandle('email')}\n              placeholder=\"example@host.com\"\n              id=\"email\"\n              type=\"email\"\n            />\n          </div>\n          <div className={classes.inputContainer}>\n            <label htmlFor=\"password\">Create a password:</label>\n            <input\n              value={inputs.password}\n              onChange={changeHandle('password')}\n              placeholder=\"StRoNgPassWord3152\"\n              id=\"password\"\n              type=\"password\"\n            />\n          </div>\n          <p>\n            Aleardy have an account{' '}\n            <Link to=\"/login\">Log in into your existing account</Link>\n          </p>\n          <button type=\"submit\">Sign up</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"sourceRoot":""}